<Page loaded="pageLoaded" class="page" actionBarHidden="true" xmlns="http://www.nativescript.org/tns.xsd">
<ScrollView>
    <FlexboxLayout class="page">
        <StackLayout class="form">
        <AbsoluteLayout class ="connexion-top">
            <Label class="title" text="{{title}}" />

            <Label class="test" text="Bienvenue"/>
        </AbsoluteLayout>
            <!-- <WrapLayout>
                <label text="" width="50" height="50" border-left="50" border-right="50" border-bottom="100" backgroundColor="blue"/>
            </WrapLayout> -->
        
            <!-- <Image class="logo" src="~/images/logo.png" /> -->
            
            <GridLayout rows="auto, auto, auto, auto, auto,auto,auto, auto" col="50 ,50" >
                <StackLayout row="0" class="input-field">
                    <label text="Login"/>
                    <TextField class="input" text="{{ email }}" hint=""
                        keyboardType="email" autocorrect="false"
                        autocapitalizationType="none" returnKeyType="next" />
                    <Label class="hr-light" />
                </StackLayout>

                <StackLayout row="1" class="input-field">
                    <Label text="Password"/>
                    <TextField id="password" class="input" text="{{ password }}"
                        secure="true" returnKeyType="{{ isLoggingIn ? 'done' : 'next' }}" />
                    <Label class="hr-light" />
                </StackLayout>
                
                <StackLayout row="2" class="input-field" visibility="{{ !isLoggingIn ? 'visible' : 'collapse' }}">
                    <Label text="Confirmer votre mot de passe"/>
                    <TextField id="confirmPassword" class="input" text="{{ confirmPassword }}"
                        hint="" secure="true" returnKeyType="done" />
                    <Label class="hr-light" />
                </StackLayout>

                <StackLayout row="3" class="input-field" visibility="{{ !isLoggingIn ? 'visible' : 'collapse' }}">
                    <Label text="Entrez notre nom"/>
                    <TextField id="surname" class="input" text="{{ surname }}"
                        hint="" returnKeyType="done" />
                    <Label class="hr-light" />
                </StackLayout>

                <StackLayout row="4" class="input-field" visibility="{{ !isLoggingIn ? 'visible' : 'collapse' }}">
                    <Label text="Entrez notre prÃ©nom"/>
                    <TextField id="name" class="input" text="{{ name }}"
                        hint="" returnKeyType="done" />
                    <Label class="hr-light" />
                </StackLayout> 


                <ActivityIndicator rowSpan="3" busy="{{ processing }}"></ActivityIndicator>

            </GridLayout>

            
              <GridLayout columns="110 , auto" rows="auto, auto" visibility="{{ !isLoggingIn ? 'visible' : 'collapse' }}">

                <ListPicker row="0" col="0" class="input-field" items="{{ Genre }}" selectedIndex="0" loaded="onListPickerLoaded" />
                <DatePicker row="0" col="1" colSpan="2" loaded="onDatePickerLoaded" date="{{ date }}"></DatePicker>
  </GridLayout>
            

            <Button text="{{ isLoggingIn ? 'Connexion' : 'S incrire' }}" tap="{{ submit }}" isEnabled="{{ !processing }}"
                class="btn btn-primary m-t-20" />
        </StackLayout>

        <label text="Ou"/>

        <Label class="login-label sign-up-label" tap="{{ toggleForm }}">
            <FormattedString>
                <Span text="{{ isLoggingIn ? 'Nouveau sur SportMeet ?' : 'Retour au Login' }}" />
            </FormattedString>
        </Label>
    </FlexboxLayout>
    </ScrollView>
    
</Page>